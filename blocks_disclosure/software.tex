Each node on the baseboard contains a dedicated communications line. The protocol used by the baseboard to communicate with the blocks uses only the power and ground wires connected to each block. A device can hold the power line low a short duration. The length of the duration conveys a designated message, such as a high bit, a low bit, or a reset signal. Additionally, each block is assigned a unique numerical id to permit both targeted and general communication.\\

Interactions between a block and the board are typically conducted as follows. The baseboard transmits a reset command on a node that tells the blocks on that node that an interaction is about to happen. Next, the baseboard sends a command, optionally prefixed with a target address, in the form of a sequence of high and low bits. Once the command is executed by the target(s), a result is transmitted to the baseboard.\\

Blocks that have two or more nodes contain an internal circuit topology that allows their microcontroller to disable the power wire leading to any block stacked on top of it. This feature is mainly used for the structure dependency process described below. Additionally, the block microcontroller is capable of reading the state of a set of reed switches, which are used to determine the orientation of the block stacked directly on top of it.\\

The following algorithm will determine how all the blocks in a structure depend on one another. The master logs all IDs that are currently present on each communications line. A multi-node block is selected. The master then issues commands to disable the power line to one or more sub-nodes of the selected block. The master then notes which IDs are no longer present on the communications line. Any ID that is no longer present depends on the currently selected block and is connected to each of the disabled sub-nodes in some critical way. After re-enabling the transistors, the master then performs this operation for all remaining permutations of multi-node blocks and their sub-nodes. From this information, the baseboard can reconstruct which blocks are stacked on which sub-nodes.
